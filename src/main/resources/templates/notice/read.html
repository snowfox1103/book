<!doctype html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${n.nBTitle}">공지 상세</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-4">

    <a class="btn btn-outline-secondary mb-3" href="/notice">← 목록</a>

    <div class="card mb-3">
        <div class="card-body">
            <h2 class="h5 mb-3" th:text="${n.nBTitle}">제목</h2>

            <!-- 본문 -->
            <div th:utext="${n.nBContent}">내용</div>

            <!-- 작성/수정 시각 (BaseEntity가 regDate/modDate라고 가정) -->
            <div class="text-muted small mt-3">
                작성:
                <span th:text="${n.regDate != null ? #temporals.format(n.regDate, 'yyyy-MM-dd HH:mm') : ''}"></span>
                · 수정:
                <span th:text="${n.modDate != null ? #temporals.format(n.modDate, 'yyyy-MM-dd HH:mm') : ''}"></span>
            </div>
        </div>
    </div>

    <!-- 관리자만 수정/삭제 노출 -->
    <div class="d-flex gap-2" sec:authorize="hasRole('ADMIN')">
        <a th:href="@{|/notice/${n.nBId}/edit|}" class="btn btn-primary">수정</a>
        <form th:action="@{|/notice/${n.nBId}/delete|}" method="post">
            <button class="btn btn-danger" type="submit">삭제</button>
        </form>
    </div>

</div>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
